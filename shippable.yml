language: python
build_image: shippableimages/ubuntu1204_python
python:
  - 2.6
  
install:
  - pip install -r requirements.txt

# Make folders for the reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - nosetests test.py --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - which python && coverage run --branch test.py
  - which python && coverage xml -o shippable/codecoverage/coverage.xml test.py
  - cat javaExc.txt
  - echo -e "\e[31mHello World\e[0m"
  
notifications:
 - email:
    recipients:
      - chandrakanth@shippable.com
      - vishal.chandru@gmail.com
      - -- last_committer
    on_success: change
    on_failure: change
    on_start: always
    on_pull_request: never
 - slack:
    account_integration: 566e4536b6bf9f1100524787
    recipients:
      - '#slacktestck'
    on_success: always
    on_failure: always
    on_start: always
    on_pull_request: always
 - irc:
    on_pull_request: true
    channels:  
      - "chat.freenode.net#chandratest"
